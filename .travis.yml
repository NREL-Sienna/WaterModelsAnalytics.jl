language: julia
os:
  - linux
  - osx
julia:
  - 1.0
  - 1.5
  - nightly
addons:
  apt:
    packages:
      - python3-pygraphviz
      - ghostscript
  homebrew:
    packages:
      - graphviz
      - ghostscript
before_script:
  - if [ "${TRAVIS_OS_NAME}" == "osx" ]; then \
        pip install --install-option="--include-path=/usr/local/Cellar/graphviz/2.42.2/include/" \
        --install-option="--library-path=/usr/local/Cellar/graphviz/2.42.2/lib/" pygraphviz; \
    fi
codecov: true
jobs:
  allow_failures:
    - julia: nightly
